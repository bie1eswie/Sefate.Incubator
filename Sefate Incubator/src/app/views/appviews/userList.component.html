<div class="row wrapper border-bottom white-bg page-heading">
  <div class="col-lg-10">
    <h2>User Access</h2>
    <ol class="breadcrumb">
      <li>
        <a [routerLink]="['/starterview']">Home</a>
      </li>
      <li class="active">
        <strong>User Access</strong>
      </li>
    </ol>
  </div>
  <div class="col-lg-2">

  </div>
</div>

<div class="wrapper wrapper-content animated fadeInRight">
  <div class="row">
    <div class="col-sm-4">
      <div class="ibox float-e-margins">
        <div class="ibox-title bg-primary">
          <h5>User Information</h5>
          <iboxtools></iboxtools>
        </div>
        <div class="ibox-content">
          <form [formGroup]="contactForm">
            <div class="form-group" [ngClass]="{ 'has-error' : !fullName.valid }">
              <label class="control-label" for="fullName">Firstname</label>
              <em *ngIf="!fullName.valid">*</em>
              <input id="fullName" type="text" class="form-control" placeholder="FirstName" [(ngModel)]="currentUser.fullname" formControlName="fullName">
            </div>
            <div class="form-group" [ngClass]="{ 'has-error' : !lastname.valid }">
              <label class="control-label" for="lastname">Lastname</label>
              <em *ngIf="!lastname.valid">*</em>
              <input id="lastname" type="text" class="form-control" placeholder="Lastname" [(ngModel)]="currentUser.lastname" formControlName="lastname">
            </div>
            <div class="form-group" [ngClass]="{ 'has-error' : !username.valid }">
              <label class="control-label" for="firstName">Username</label>
              <em *ngIf="!username.valid">*</em>
              <input id="username" type="text" class="form-control" placeholder="Username" [(ngModel)]="currentUser.username" formControlName="username">
            </div>

            <div class="form-group" [ngClass]="{ 'has-error' : !password.valid }">
              <label class="control-label" for="firstName">Password</label>
              <em *ngIf="!password.valid">*</em>
              <input id="password" type="password" class="form-control" placeholder="Password" [(ngModel)]="currentUser.password" formControlName="password">
            </div>

            <div class="form-group" [ngClass]="{ 'has-error' : !email.valid }">
              <label class="control-label" for="email">Email</label>
              <em *ngIf="!email.valid">*</em>
              <input id="email" type="email" class="form-control" placeholder="Email" [(ngModel)]="currentUser.email" formControlName="email">
            </div>

            <div class="form-group">
              <label class="control-label" for="phone">Phone</label>
              <input id="phone" type="text" class="form-control" [(ngModel)]="currentUser.phone" placeholder="Phone" formControlName="phone">
            </div>

            <div class="form-group">
              <label class="control-label" for="phone">Role</label>
              <select [(ngModel)]="currentUser.role" data-placeholder="Choose a Country..." class="form-control m-b" formControlName="role">
                            <option [ngValue]="undefined" selected>Please select...</option>
                            <option *ngFor="let type of roleList" [ngValue]="type.roleID">{{type.role}}</option>
                        </select>
            </div>

            <div class="form-group">
              <button type="submit" class="btn btn-danger" (click)="reset()">Reset</button>
              <button type="submit" class="btn btn-primary" (click)="saveContact(contactForm.value)" *ngIf="editContactId == 0" [disabled]="!contactForm.valid">Create</button>
              <button type="submit" class="btn btn-success" (click)="updateContact(contactForm.value)" *ngIf="editContactId > 0" [disabled]="!contactForm.valid">Update</button>
            </div>
          </form>
        </div>
      </div>
    </div>
    <div class="col-sm-8">
      <div class="row">
        <div class="col-lg-12">
          <div class="ibox float-e-margins">
            <div class="ibox-title bg-primary">
              <h5>User List</h5>
              <iboxtools></iboxtools>
            </div>
            <div class="ibox-content">
              <div class="table-responsive">
                <table class="table table-striped table-bordered table-hover dataTables-example">
                  <thead>
                    <th>Firstname</th>
                    <th>Lastname</th>
                    <th>Email</th>
                    <th>Phone</th>
                    <th>Option</th>
                  </thead>
                  <tbody>
                    <tr *ngFor="let user of users">
                      <td>{{ user.fullname }}</td>
                      <td>{{ user.lastname }}</td>
                      <td>{{ user.email }}</td>
                      <td>{{ user.phone }}</td>
                      <td>
                        <a href="javascript:void(0)" (click)="deleteContact($event, user)" class="btn btn-danger btn-xs pull-right">Delete</a>
                        <a href="javascript:void(0)" (click)="editContact($event, user)" class="btn btn-primary btn-xs pull-right">Edit</a>
                      </td>
                    </tr>
                  </tbody>
                </table>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>
</div>
